(this["webpackJsonpnusfitness-frontend"]=this["webpackJsonpnusfitness-frontend"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),a=n(16),r=n.n(a),i=(n(22),n(8)),l=(n(23),n(7)),o=n(1),j=function(e){var t=e.loggedIn,n=e.setLoggedIn;return Object(o.jsxs)("nav",{className:"navbar bg-dark",children:[Object(o.jsx)(l.b,{to:"/",children:Object(o.jsx)("h2",{children:"NUSFitness"})}),Object(o.jsx)("ul",{children:t?Object(o.jsx)("li",{children:Object(o.jsx)(l.b,{to:"/",onClick:function(){return n(!1)},children:"Logout"})}):Object(o.jsxs)(s.Fragment,{children:[Object(o.jsx)("li",{className:"mr-1",children:Object(o.jsx)(l.b,{to:"/login",children:"Login"})}),Object(o.jsx)("li",{children:Object(o.jsx)(l.b,{to:"/register",children:"Register"})})]})})]})},d=function(e){var t=e.alert;return null!==t&&Object(o.jsxs)("div",{className:"alert alert-".concat(t.type),children:[Object(o.jsx)("i",{className:"fas fa-info-circle"})," ",t.msg]})},u=function(e){e.handleAlert;var t=e.loggedIn;e.setLoggedIn;return Object(o.jsx)("div",{children:t?Object(o.jsx)("h1",{className:"text-center",children:"You are logged in!"}):Object(o.jsx)("h1",{className:"text-center",children:"Welcome to NUSFitness! :)"})})},b=n(2),h=function(e){var t=e.handleAlert,n=(e.loggedIn,e.setLoggedIn),c=Object(s.useState)(""),a=Object(i.a)(c,2),r=a[0],l=a[1],j=Object(s.useState)(""),d=Object(i.a)(j,2),u=d[0],h=d[1],g=Object(b.f)(),m=function(e){e.preventDefault(),fetch("https://salty-reaches-24995.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:u})}).then((function(e){return e.json()})).then((function(e){e._id?(t("Successfully registered!","success"),n(!0),g.push("/")):(t("Failed to register, please try again! :(","danger"),l(""),h(""))}))};return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"card text-center w-40 mt-3",children:[Object(o.jsx)("h2",{children:"Register"}),Object(o.jsxs)("form",{onSubmit:m,className:"m-1",children:[Object(o.jsx)("label",{htmlFor:"email",children:"Email"}),Object(o.jsx)("input",{type:"text",className:"mb-2",onChange:function(e){return l(e.target.value)},value:r,id:"email",name:"email",required:!0}),Object(o.jsx)("label",{htmlFor:"password",children:"Password"}),Object(o.jsx)("input",{type:"password",onChange:function(e){return h(e.target.value)},value:u,id:"password",name:"password",required:!0}),Object(o.jsx)("button",{type:"submit",onSubmit:m,className:"btn btn-light mt-1",children:"Register"})]})]})})},g=function(e){var t=e.handleAlert,n=(e.loggedIn,e.setLoggedIn),c=Object(s.useState)(""),a=Object(i.a)(c,2),r=a[0],l=a[1],j=Object(s.useState)(""),d=Object(i.a)(j,2),u=d[0],h=d[1],g=Object(b.f)(),m=function(e){e.preventDefault(),fetch("https://salty-reaches-24995.herokuapp.com/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:u})}).then((function(e){return e.json()})).then((function(e){e.success&&(t("Successfully logged in!","success"),n(!0),g.push("/"))})).catch((function(e){t("Failed to login, please try again! :(","danger"),l(""),h("")}))};return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"card text-center w-40 mt-3",children:[Object(o.jsx)("h2",{children:"Login"}),Object(o.jsxs)("form",{onSubmit:m,className:"m-1",children:[Object(o.jsx)("label",{htmlFor:"email",children:"Email"}),Object(o.jsx)("input",{type:"text",className:"mb-2",onChange:function(e){return l(e.target.value)},value:r,id:"email",name:"email",required:!0}),Object(o.jsx)("label",{htmlFor:"password",children:"Password"}),Object(o.jsx)("input",{type:"password",onChange:function(e){return h(e.target.value)},value:u,id:"password",name:"password",required:!0}),Object(o.jsx)("button",{type:"submit",onSubmit:m,className:"btn btn-light mt-1",children:"Login"})]})]})})},m=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(!1),r=Object(i.a)(a,2),m=r[0],O=r[1],x=function(e,t){c({msg:e,type:t}),setTimeout((function(){c(null)}),3e3)};return Object(o.jsx)(l.a,{children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(j,{loggedIn:m,setLoggedIn:O}),Object(o.jsx)(d,{alert:n}),Object(o.jsxs)(b.c,{children:[Object(o.jsx)(b.a,{exact:!0,path:"/",children:Object(o.jsx)(u,{loggedIn:m,setLoggedIn:O})}),Object(o.jsx)(b.a,{exact:!0,path:"/register",children:Object(o.jsx)(h,{handleAlert:x,loggedIn:m,setLoggedIn:O})}),Object(o.jsx)(b.a,{exact:!0,path:"/login",children:Object(o.jsx)(g,{handleAlert:x,loggedIn:m,setLoggedIn:O})})]})]})})};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(m,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.7a4e8b08.chunk.js.map